<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Location-based AR.js demo</title>

    <link rel="stylesheet" href="css/main.css">

    <!-- script to get locations by geo location radius -->
    <script src="https://unpkg.com/geofirestore/dist/geofirestore.js"></script>

    <!-- import the firebase librarys -->
    <script defer src="https://www.gstatic.com/firebasejs/8.0.0/firebase-app.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/8.0.0/firebase-auth.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/8.0.0/firebase-firestore.js"></script>

    <!-- initialize firestore -->
    <script defer src="js/firestoreInit.js"></script>
    <script defer src="js/services.js"></script>

    <!-- The click event does not work after version 0.9.2 -->
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/3.3.0/aframe/build/aframe-ar-nft.js"></script>
    <script src="js/common.js"></script>
</head>

<body style="margin: 0; overflow: hidden;">
    <a-scene cursor='rayOrigin: mouse; fuse: true; fuseTimeout: 0;' 
        raycaster="objects: [clickhandler];" 
        debug vr-mode-ui="enabled: false" 
        embedded arjs="sourceType: webcam; debugUIEnabled: false;">


        <a-assets>
            <a-asset-item id="bee-obj" src="models/bee/bee.obj"></a-asset-item>
            <a-asset-item id="bee-mtl" src="models/bee/bee.mtl"></a-asset-item>
            <a-asset-item id="mug" src="models/woodenmug/scene.gltf"></a-asset-item>
        </a-assets>
        <!--<a-entity gltf-model="#test" scale="10 10 10" gps-entity-place="latitude: 53.543909; longitude: -113.442837;" animation-mixer/>-->


        <!--<a-image clickhandler gps-entity-place="latitude: 53.543909; longitude: -113.442837" scale="3 3 3" src="img/bee.png">
        </a-image>
        <a-image clickhandler gps-entity-place="latitude: 53.544714; longitude: -113.439948" scale="3 3 3" src="img/bee.png">
        </a-image> -->
        <a-camera gps-camera="maxDistance: 300;" rotation-reader> </a-camera>
    </a-scene>
    <div class="debug-window">
        <div class="num-locations"></div>
        <div class="curr-location"></div>
        <div class="count-location-changed"></div>
        <div class="moved"></div>
    </div>
    <div class="close-btn" onclick="Common.goToExitPage()">CLOSE</div>
</body>

</html>